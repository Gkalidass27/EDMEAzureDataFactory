{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory name",
			"defaultValue": "afi-edme-dev-df"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/triggerLoad_Retail_Customer_CommunicationPreferenceLoad_Incremental_CATCHUP')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "Catch up on Email Preferences already in Semarchy Staging.  Now the Function Queue has been fixed.",
				"annotations": [],
				"runtimeState": "Stopped",
				"pipelines": [
					{
						"pipelineReference": {
							"referenceName": "Load_RetailCustomer_CommunicationPreferenceLoad_Incremental",
							"type": "PipelineReference"
						},
						"parameters": {}
					}
				],
				"type": "ScheduleTrigger",
				"typeProperties": {
					"recurrence": {
						"frequency": "Minute",
						"interval": 30,
						"startTime": "2024-07-02T08:45:00",
						"timeZone": "Central Standard Time"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/00_Load_SiteMaster')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Stage_SiteMaster_EDW",
						"type": "ExecutePipeline",
						"dependsOn": [],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_SiteMaster_EDW",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "If HS Changed",
						"type": "IfCondition",
						"dependsOn": [
							{
								"activity": "Set_HS_ChangedRecordsCount",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@greater(variables('ChangedHSRecordsCount'),0)",
								"type": "Expression"
							},
							"ifTrueActivities": [
								{
									"name": "Load_SiteMaster_HS",
									"type": "ExecutePipeline",
									"dependsOn": [],
									"policy": {
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"pipeline": {
											"referenceName": "Load_SiteMaster_HS",
											"type": "PipelineReference"
										},
										"waitOnCompletion": true,
										"parameters": {}
									}
								}
							]
						}
					},
					{
						"name": "CountChanged_HS_Records",
						"type": "Lookup",
						"dependsOn": [
							{
								"activity": "If WH Changed",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "AzureSqlSource",
								"sqlReaderQuery": "DECLARE @RETURN_VALUE_ARGUMENT INT\r\n\r\nEXECUTE dbo.Count_SiteMaster_Changed_Records @SiteType = 'HS', @RETURN_VALUE_ARGUMENT = null\r\n\r\nSELECT @RETURN_VALUE_ARGUMENT AS RETURN_VALUE_ARGUMENT",
								"queryTimeout": "02:00:00",
								"partitionOption": "None"
							},
							"dataset": {
								"referenceName": "Semarchy_Staging",
								"type": "DatasetReference",
								"parameters": {}
							}
						}
					},
					{
						"name": "Set_HS_ChangedRecordsCount",
						"type": "SetVariable",
						"dependsOn": [
							{
								"activity": "CountChanged_HS_Records",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "ChangedHSRecordsCount",
							"value": {
								"value": "@activity('CountChanged_HS_Records').output.firstRow.RETURN_VALUE_ARGUMENT",
								"type": "Expression"
							}
						}
					},
					{
						"name": "CountChanged_WH_Records",
						"type": "Lookup",
						"dependsOn": [
							{
								"activity": "LoadGDLegalEntityforCompare",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "AzureSqlSource",
								"sqlReaderQuery": "DECLARE @RETURN_VALUE_ARGUMENT INT\r\n\r\nEXECUTE dbo.Count_SiteMaster_Changed_Records @SiteType = 'WH', @RETURN_VALUE_ARGUMENT = null\r\n\r\nSELECT @RETURN_VALUE_ARGUMENT AS RETURN_VALUE_ARGUMENT",
								"queryTimeout": "02:00:00",
								"partitionOption": "None"
							},
							"dataset": {
								"referenceName": "Semarchy_Staging",
								"type": "DatasetReference",
								"parameters": {}
							}
						}
					},
					{
						"name": "Set_WH_ChangedRecordsCount",
						"type": "SetVariable",
						"dependsOn": [
							{
								"activity": "CountChanged_WH_Records",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "ChangedWHRecordsCount",
							"value": {
								"value": "@activity('CountChanged_WH_Records').output.firstRow.RETURN_VALUE_ARGUMENT",
								"type": "Expression"
							}
						}
					},
					{
						"name": "If WH Changed",
						"type": "IfCondition",
						"dependsOn": [
							{
								"activity": "Set_WH_ChangedRecordsCount",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@greater(variables('ChangedWHRecordsCount'),0)",
								"type": "Expression"
							},
							"ifTrueActivities": [
								{
									"name": "Load_SiteMaster_WH",
									"type": "ExecutePipeline",
									"dependsOn": [],
									"policy": {
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"pipeline": {
											"referenceName": "Load_SiteMaster_WH",
											"type": "PipelineReference"
										},
										"waitOnCompletion": true,
										"parameters": {}
									}
								}
							]
						}
					},
					{
						"name": "Preserve_WebUI_CompanyCode",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "Stage_SiteMaster_Mappings",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "AzureSqlSource",
								"sqlReaderQuery": "SELECT DISTINCT \n          LEGAL_ENTITY_ID,\n          LIC_CONTACT, \n          COMPANY_CODE,\n\t\t  GetDate() as LOAD_DATE\nFROM DBO.GD_LEGAL_ENTITY WITH(NOLOCK)",
								"queryTimeout": "02:00:00",
								"partitionOption": "None"
							},
							"sink": {
								"type": "AzureSqlSink",
								"preCopyScript": "TRUNCATE TABLE [EDW].[RSM_LicContact_CompanyCode]",
								"writeBehavior": "insert",
								"sqlWriterUseTableLock": false,
								"disableMetricsCollection": false
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"mappings": [
									{
										"source": {
											"name": "LEGAL_ENTITY_ID",
											"type": "Decimal",
											"physicalType": "decimal",
											"scale": 0,
											"precision": 10
										},
										"sink": {
											"name": "LEGAL_ENTITY_ID",
											"type": "Decimal",
											"physicalType": "decimal",
											"scale": 0,
											"precision": 10
										}
									},
									{
										"source": {
											"name": "LIC_CONTACT",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "LIC_CONTACT",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "COMPANY_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "COMPANY_CODE",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "LOAD_DATE",
											"type": "DateTime",
											"physicalType": "datetime"
										},
										"sink": {
											"name": "LOAD_DATE",
											"type": "DateTime",
											"physicalType": "datetime"
										}
									}
								],
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "Retail_SiteMaster_GD_LEGAL_ENTITY",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "EDW_RSM_LicContact_CompanyCode",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "LoadGDLegalEntityforCompare",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "Preserve_WebUI_CompanyCode",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "AzureSqlSource",
								"queryTimeout": "02:00:00",
								"partitionOption": "None"
							},
							"sink": {
								"type": "AzureSqlSink",
								"preCopyScript": "TRUNCATE TABLE Scratch.SiteMaster_GD_LEGAL_ENTITY",
								"writeBehavior": "insert",
								"sqlWriterUseTableLock": false,
								"disableMetricsCollection": false
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"mappings": [
									{
										"source": {
											"name": "LEGAL_ENTITY_ID",
											"type": "Decimal",
											"physicalType": "decimal",
											"scale": 0,
											"precision": 10
										},
										"sink": {
											"name": "LEGAL_ENTITY_ID",
											"type": "Decimal",
											"physicalType": "decimal",
											"scale": 0,
											"precision": 10
										}
									},
									{
										"source": {
											"name": "B_CLASSNAME",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "B_CLASSNAME",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "B_BATCHID",
											"type": "Decimal",
											"physicalType": "decimal",
											"scale": 0,
											"precision": 38
										},
										"sink": {
											"name": "B_BATCHID",
											"type": "Decimal",
											"physicalType": "decimal",
											"scale": 0,
											"precision": 38
										}
									},
									{
										"source": {
											"name": "B_CREDATE",
											"type": "DateTime",
											"physicalType": "datetime2"
										},
										"sink": {
											"name": "B_CREDATE",
											"type": "DateTime",
											"physicalType": "datetime2"
										}
									},
									{
										"source": {
											"name": "B_UPDDATE",
											"type": "DateTime",
											"physicalType": "datetime2"
										},
										"sink": {
											"name": "B_UPDDATE",
											"type": "DateTime",
											"physicalType": "datetime2"
										}
									},
									{
										"source": {
											"name": "B_CREATOR",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "B_CREATOR",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "B_UPDATOR",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "B_UPDATOR",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "NAME",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "NAME",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "TYPE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "TYPE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "RAW_ADDR_LINE1",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "RAW_ADDR_LINE1",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "RAW_ADDR_LINE2",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "RAW_ADDR_LINE2",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "RAW_CITY",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "RAW_CITY",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "RAW_STATE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "RAW_STATE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "RAW_STATE_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "RAW_STATE_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "RAW_POSTAL_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "RAW_POSTAL_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "RAW_COUNTRY",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "RAW_COUNTRY",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "RAW_COUNTRY_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "RAW_COUNTRY_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "RAW_LATITUDE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "RAW_LATITUDE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "RAW_LONGITUDE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "RAW_LONGITUDE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "ADDR_LINE1",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "ADDR_LINE1",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "ADDR_LINE2",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "ADDR_LINE2",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "CITY",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "CITY",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "STATE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "STATE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "STATE_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "STATE_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "POSTAL_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "POSTAL_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "COUNTRY",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "COUNTRY",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "COUNTRY_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "COUNTRY_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "LATITUDE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "LATITUDE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "LONGITUDE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "LONGITUDE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "MAILING_ADDR_LINE1",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "MAILING_ADDR_LINE1",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "MAILING_ADDR_LINE2",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "MAILING_ADDR_LINE2",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "MAILING_CITY",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "MAILING_CITY",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "MAILING_STATE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "MAILING_STATE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "MAILING_STATE_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "MAILING_STATE_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "MAILING_POSTAL_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "MAILING_POSTAL_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "MAILING_COUNTRY",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "MAILING_COUNTRY",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "MAILING_COUNTRY_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "MAILING_COUNTRY_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "OS_LEGAL_ENTITY_ID",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "OS_LEGAL_ENTITY_ID",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "LIC_CONTACT",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "LIC_CONTACT",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "LIC_CONTACT_EMAIL",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "LIC_CONTACT_EMAIL",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "RAW_LIC_CONTACT_PHONE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "RAW_LIC_CONTACT_PHONE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "LIC_CONTACT_PHONE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "LIC_CONTACT_PHONE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "COMPANY_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "COMPANY_CODE",
											"type": "String",
											"physicalType": "nvarchar"
										}
									}
								],
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "Retail_SiteMaster_GD_LEGAL_ENTITY",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "Scratch_SiteMaster_GD_LEGAL_ENTITY",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "Stage_SiteMaster_Smartsheet",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_SiteMaster_EDW",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_RDC_Smartsheet",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Stage_SiteMaster_Mappings",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_SiteMaster_Smartsheet",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_SiteMaster_Mappings",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"ChangedHSRecordsCount": {
						"type": "Integer"
					},
					"ChangedWHRecordsCount": {
						"type": "Integer"
					},
					"LoadID": {
						"type": "String"
					},
					"LoadID1": {
						"type": "String"
					}
				},
				"folder": {
					"name": "SiteMaster/Archive"
				},
				"annotations": [],
				"lastPublishTime": "2025-12-08T10:02:23Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/00_Load_SiteMaster_Incremental')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Stage_EDW",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_SiteMaster_Mappings",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_SiteMaster_EDW",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Load_SiteMaster_Incremental",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_EDW",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Load_SiteMaster_Incremental",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Stage_Smartsheet",
						"type": "ExecutePipeline",
						"dependsOn": [],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_SiteMaster_Smartsheet",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Stage_SiteMaster_Mappings",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_Storemaster_Smartsheet",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_SiteMaster_Mappings",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Stage_Storemaster_Smartsheet",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_Smartsheet",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_Storemaster_Smartsheet",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"folder": {
					"name": "SiteMaster"
				},
				"annotations": [],
				"lastPublishTime": "2025-12-08T10:02:23Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/00_Load_SiteMaster_Incremental_v2')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Stage_EDW",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Assign_ID_Codes",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_SiteMaster_EDW",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Load_SiteMaster_Incremental",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_EDW",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Load_SiteMaster_Incremental_RSA",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Stage_Smartsheet",
						"type": "ExecutePipeline",
						"dependsOn": [],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_RDC_Smartsheet",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Stage_Storemaster_Smartsheet",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_Smartsheet",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_Storemaster_Smartsheet",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Assign_ID_Codes",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_Storemaster_Smartsheet",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_Incremental_SiteMaster_Mappings",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"folder": {
					"name": "SiteMaster/Archive"
				},
				"annotations": [],
				"lastPublishTime": "2025-12-08T10:02:23Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/00_Load_SiteMaster_Initial')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Stage_EDW",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_SiteMaster_Mappings",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_SiteMaster_EDW",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Load_SiteMaster_Initial_Warehouse",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_EDW",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Load_SiteMaster_Initial_WareHouse",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Stage_Smartsheet",
						"type": "ExecutePipeline",
						"dependsOn": [],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_RDC_Smartsheet",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Stage_SiteMaster_Mappings",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_Storemaster_Smartsheet",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_SiteMaster_Mappings",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Stage_Storemaster_Smartsheet",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_Smartsheet",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_Storemaster_Smartsheet",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Load_SiteMaster_Initial_Storemaster",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Load_SiteMaster_Initial_Warehouse",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Load_SiteMaster_Initial_StoreMaster",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"folder": {
					"name": "SiteMaster"
				},
				"annotations": [],
				"lastPublishTime": "2025-12-08T10:02:23Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Orchestrate_Load_RetailCustomerLoad_Incremental')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Load_RetailCustomer_RetailCustomerLoad_Incremental",
						"type": "ExecutePipeline",
						"dependsOn": [],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Load_RetailCustomer_RetailCustomerLoad_Incremental",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Teams_Failed_Notification_Load_RetailCustomer",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Load_RetailCustomer_RetailCustomerLoad_Incremental",
								"dependencyConditions": [
									"Failed"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Notify_Teams_Channale_Pipeline",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {
								"subscription": {
									"value": "@pipeline().globalParameters.ADF_SubscriptionID",
									"type": "Expression"
								},
								"resourceGroup": "afi-edme-rg",
								"runId": {
									"value": "@activity('Load_RetailCustomer_RetailCustomerLoad_Incremental').output['pipelineRunId']",
									"type": "Expression"
								},
								"name": {
									"value": "@activity('Load_RetailCustomer_RetailCustomerLoad_Incremental').output['pipelineName']",
									"type": "Expression"
								},
								"triggerTime": {
									"value": "@activity('Load_RetailCustomer_RetailCustomerLoad_Incremental').ExecutionStartTime",
									"type": "Expression"
								},
								"status": {
									"value": "@activity('Load_RetailCustomer_RetailCustomerLoad_Incremental').Status",
									"type": "Expression"
								},
								"message": {
									"value": "@replace(activity('Load_RetailCustomer_RetailCustomerLoad_Incremental').error.message,'\"','')",
									"type": "Expression"
								},
								"executionEndTime": {
									"value": "@activity('Load_RetailCustomer_RetailCustomerLoad_Incremental').ExecutionEndTime",
									"type": "Expression"
								},
								"runDuration": {
									"value": "@activity('Load_RetailCustomer_RetailCustomerLoad_Incremental').Duration",
									"type": "Expression"
								},
								"teamWebhookUrl": {
									"value": "@pipeline().globalParameters.GP_WebhookUrl",
									"type": "Expression"
								}
							}
						}
					},
					{
						"name": "Load_GetEntity_RCM_RFD_RetailCustomerLoad_Incremental",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Load_RetailCustomer_RetailCustomerLoad_Incremental",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Load_GetEntity_RCM_RFD_RetailCustomerLoad_Incremental",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Teams_Failed_Notification_Load_RFD_RetailCustomer",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Load_GetEntity_RCM_RFD_RetailCustomerLoad_Incremental",
								"dependencyConditions": [
									"Failed"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Notify_Teams_Channale_Pipeline",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {
								"subscription": {
									"value": "@pipeline().globalParameters.ADF_SubscriptionID",
									"type": "Expression"
								},
								"resourceGroup": "afi-edme-rg",
								"runId": {
									"value": "@activity('Load_GetEntity_RCM_RFD_RetailCustomerLoad_Incremental').output['pipelineRunId']",
									"type": "Expression"
								},
								"name": {
									"value": "@activity('Load_GetEntity_RCM_RFD_RetailCustomerLoad_Incremental').output['pipelineName']",
									"type": "Expression"
								},
								"triggerTime": {
									"value": "@activity('Load_GetEntity_RCM_RFD_RetailCustomerLoad_Incremental').ExecutionStartTime",
									"type": "Expression"
								},
								"status": {
									"value": "@activity('Load_GetEntity_RCM_RFD_RetailCustomerLoad_Incremental').Status",
									"type": "Expression"
								},
								"message": {
									"value": "@replace(activity('Load_GetEntity_RCM_RFD_RetailCustomerLoad_Incremental').error.message,'\"','')",
									"type": "Expression"
								},
								"executionEndTime": {
									"value": "@activity('Load_GetEntity_RCM_RFD_RetailCustomerLoad_Incremental').ExecutionEndTime",
									"type": "Expression"
								},
								"runDuration": {
									"value": "@activity('Load_GetEntity_RCM_RFD_RetailCustomerLoad_Incremental').Duration",
									"type": "Expression"
								},
								"teamWebhookUrl": {
									"value": "@pipeline().globalParameters.GP_WebhookUrl",
									"type": "Expression"
								}
							}
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"folder": {
					"name": "Retail_Customer_Flow"
				},
				"annotations": [],
				"lastPublishTime": "2025-12-08T10:02:22Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Orchestrate_PostalCode_ReferenceDataLoad_Incremental')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Stage_PostalCode_ReferenceDataLoad_Incremental",
						"type": "ExecutePipeline",
						"dependsOn": [],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_PostalCode_ReferenceDataLoad_Incremental",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {
								"US_PostalCode_FileName": {
									"value": "@pipeline().parameters.US_PostalCode_FileName",
									"type": "Expression"
								},
								"CANADA_PostalCode_FileName": {
									"value": "@pipeline().parameters.CANADA_PostalCode_FileName",
									"type": "Expression"
								}
							}
						}
					},
					{
						"name": "Load_PostalCode_ReferenceDataLoad_Incremental",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_PostalCode_ReferenceDataLoad_Incremental",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Load_PostalCode_EnterpriseRefPostalCodeLoad_Incremental",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Teams_Failed_Notification_Stage_PostalCode_Incremental",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_PostalCode_ReferenceDataLoad_Incremental",
								"dependencyConditions": [
									"Failed"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Notify_Teams_Channale_Pipeline",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {
								"subscription": {
									"value": "@pipeline().globalParameters.ADF_SubscriptionID",
									"type": "Expression"
								},
								"resourceGroup": "afi-edme-rg",
								"runId": {
									"value": "@activity('Stage_PostalCode_ReferenceDataLoad_Incremental').output['pipelineRunId']",
									"type": "Expression"
								},
								"name": {
									"value": "@activity('Stage_PostalCode_ReferenceDataLoad_Incremental').output['pipelineName']",
									"type": "Expression"
								},
								"triggerTime": {
									"value": "@activity('Stage_PostalCode_ReferenceDataLoad_Incremental').ExecutionStartTime",
									"type": "Expression"
								},
								"status": {
									"value": "@activity('Stage_PostalCode_ReferenceDataLoad_Incremental').Status",
									"type": "Expression"
								},
								"message": {
									"value": "@replace(activity('Stage_PostalCode_ReferenceDataLoad_Incremental').error.message,'\"','')",
									"type": "Expression"
								},
								"executionEndTime": {
									"value": "@activity('Stage_PostalCode_ReferenceDataLoad_Incremental').ExecutionEndTime",
									"type": "Expression"
								},
								"runDuration": {
									"value": "@activity('Stage_PostalCode_ReferenceDataLoad_Incremental').Duration",
									"type": "Expression"
								},
								"teamWebhookUrl": {
									"value": "@pipeline().globalParameters.GP_WebhookUrl",
									"type": "Expression"
								}
							}
						}
					},
					{
						"name": "Teams_Failed_Notification_Load_PostalCode_Incremental",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Load_PostalCode_ReferenceDataLoad_Incremental",
								"dependencyConditions": [
									"Failed"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Notify_Teams_Channale_Pipeline",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {
								"subscription": {
									"value": "@pipeline().globalParameters.ADF_SubscriptionID",
									"type": "Expression"
								},
								"resourceGroup": "afi-edme-rg",
								"runId": {
									"value": "@activity('Load_PostalCode_ReferenceDataLoad_Incremental').output['pipelineRunId']",
									"type": "Expression"
								},
								"name": {
									"value": "@activity('Load_PostalCode_ReferenceDataLoad_Incremental').output['pipelineName']",
									"type": "Expression"
								},
								"triggerTime": {
									"value": "@activity('Load_PostalCode_ReferenceDataLoad_Incremental').ExecutionStartTime",
									"type": "Expression"
								},
								"status": {
									"value": "@activity('Load_PostalCode_ReferenceDataLoad_Incremental').Status",
									"type": "Expression"
								},
								"message": {
									"value": "@replace(activity('Load_PostalCode_ReferenceDataLoad_Incremental').error.message,'\"','')\n",
									"type": "Expression"
								},
								"executionEndTime": {
									"value": "@activity('Load_PostalCode_ReferenceDataLoad_Incremental').ExecutionEndTime",
									"type": "Expression"
								},
								"runDuration": {
									"value": "@activity('Load_PostalCode_ReferenceDataLoad_Incremental').Duration",
									"type": "Expression"
								},
								"teamWebhookUrl": {
									"value": "@pipeline().globalParameters.GP_WebhookUrl",
									"type": "Expression"
								}
							}
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"parameters": {
					"US_PostalCode_FileName": {
						"type": "string",
						"defaultValue": "z5max.txt"
					},
					"CANADA_PostalCode_FileName": {
						"type": "string",
						"defaultValue": "PCensusNWE.csv"
					}
				},
				"folder": {
					"name": "Postal_Code"
				},
				"annotations": [],
				"lastPublishTime": "2025-12-08T10:02:22Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Orchestrate_RealEstate_LeaseHarbor_Inc')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Stage_RealEstate_LeaseHarbor_inc",
						"type": "ExecutePipeline",
						"dependsOn": [],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_RealEstate_SFTP_SemarchyStaging",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Load_RealEstate_LeaseHarbor_inc",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_RealEstate_LeaseHarbor_inc",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Load_RealEstate_LeaseHarbor_Incremental",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Teams_Failed_Notification_Load_RetailCustomer",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_RealEstate_LeaseHarbor_inc",
								"dependencyConditions": [
									"Failed"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Notify_Teams_Channale_Pipeline",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {
								"subscription": {
									"value": "@pipeline().globalParameters.ADF_SubscriptionID",
									"type": "Expression"
								},
								"resourceGroup": "afi-edme-rg",
								"runId": {
									"value": "@activity('Stage_RealEstate_LeaseHarbor_inc').output['pipelineRunId']",
									"type": "Expression"
								},
								"name": {
									"value": "@activity('Stage_RealEstate_LeaseHarbor_inc').output['pipelineName']",
									"type": "Expression"
								},
								"triggerTime": {
									"value": "@activity('Stage_RealEstate_LeaseHarbor_inc').ExecutionStartTime",
									"type": "Expression"
								},
								"status": {
									"value": "@activity('Stage_RealEstate_LeaseHarbor_inc').Status",
									"type": "Expression"
								},
								"message": {
									"value": "@replace(activity('Stage_RealEstate_LeaseHarbor_inc').error.message,'\"','')",
									"type": "Expression"
								},
								"executionEndTime": {
									"value": "@activity('Stage_RealEstate_LeaseHarbor_inc').ExecutionEndTime",
									"type": "Expression"
								},
								"runDuration": {
									"value": "@activity('Stage_RealEstate_LeaseHarbor_inc').Duration",
									"type": "Expression"
								},
								"teamWebhookUrl": {
									"value": "@pipeline().globalParameters.GP_WebhookUrl",
									"type": "Expression"
								}
							}
						}
					},
					{
						"name": "Teams_Failed_Notification_Load_RetailCustomer_copy1",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Load_RealEstate_LeaseHarbor_inc",
								"dependencyConditions": [
									"Failed"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Notify_Teams_Channale_Pipeline",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {
								"subscription": {
									"value": "@pipeline().globalParameters.ADF_SubscriptionID",
									"type": "Expression"
								},
								"resourceGroup": "afi-edme-rg",
								"runId": {
									"value": "@activity('Load_RealEstate_LeaseHarbor_inc').output['pipelineRunId']",
									"type": "Expression"
								},
								"name": {
									"value": "@activity('Load_RealEstate_LeaseHarbor_inc').output['pipelineName']",
									"type": "Expression"
								},
								"triggerTime": {
									"value": "@activity('Load_RealEstate_LeaseHarbor_inc').ExecutionStartTime",
									"type": "Expression"
								},
								"status": {
									"value": "@activity('Load_RealEstate_LeaseHarbor_inc').Status",
									"type": "Expression"
								},
								"message": {
									"value": "@replace(activity('Load_RealEstate_LeaseHarbor_inc').error.message,'\"','')",
									"type": "Expression"
								},
								"executionEndTime": {
									"value": "@activity('Load_RealEstate_LeaseHarbor_inc').ExecutionEndTime",
									"type": "Expression"
								},
								"runDuration": {
									"value": "@activity('Load_RealEstate_LeaseHarbor_inc').Duration",
									"type": "Expression"
								},
								"teamWebhookUrl": {
									"value": "@pipeline().globalParameters.GP_WebhookUrl",
									"type": "Expression"
								}
							}
						}
					},
					{
						"name": "Archive Real estate Files in SFTP",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Load_RealEstate_LeaseHarbor_inc",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Archive_RealEstate_File_To_SFTP",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"folder": {
					"name": "SiteMaster"
				},
				"annotations": [],
				"lastPublishTime": "2025-12-08T10:02:22Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Orchestrate_SiteMaster_Incremental')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Stage_EDW",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_SiteMaster_Mappings",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_SiteMaster_EDW",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Stage_RDC_Smartsheet",
						"type": "ExecutePipeline",
						"dependsOn": [],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_RDC_Smartsheet",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Stage_SiteMaster_Mappings",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_Storemaster_Smartsheet",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_SiteMaster_Mappings_Automate",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Stage_Storemaster_Smartsheet",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_RDC_Smartsheet",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_Storemaster_Smartsheet",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Load_incremental_Warehouse",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_EDW",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Load_SiteMaster_Incremental_WareHouse",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Load_Incremental_StoreMaster",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Wait1",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Load_SiteMaster_Incremental_StoreMaster",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "usp_RDC_Masterlist_ARCHIVE",
						"type": "SqlServerStoredProcedure",
						"dependsOn": [
							{
								"activity": "Load_Incremental_StoreMaster",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"storedProcedureName": "[[Retail].[usp_RDC_Masterlist_ARCHIVE]"
						},
						"linkedServiceName": {
							"referenceName": "semarchy_staging",
							"type": "LinkedServiceReference"
						}
					},
					{
						"name": "usp_STORE_MASTER_ARCHIVE",
						"type": "SqlServerStoredProcedure",
						"dependsOn": [
							{
								"activity": "usp_RDC_Masterlist_ARCHIVE",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"storedProcedureName": "[[Retail].[usp_STORE_MASTER_ARCHIVE]"
						},
						"linkedServiceName": {
							"referenceName": "semarchy_staging",
							"type": "LinkedServiceReference"
						}
					},
					{
						"name": "Wait1",
						"type": "Wait",
						"dependsOn": [
							{
								"activity": "Load_incremental_Warehouse",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"userProperties": [],
						"typeProperties": {
							"waitTimeInSeconds": 30
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"folder": {
					"name": "SiteMaster"
				},
				"annotations": [],
				"lastPublishTime": "2025-12-08T10:02:23Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Stage_SiteMaster_DAC')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "UntilLastPage",
						"type": "Until",
						"dependsOn": [
							{
								"activity": "SetTrueloop",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@equals(variables('loop_var'),false)",
								"type": "Expression"
							},
							"activities": [
								{
									"name": "CheckCount",
									"type": "IfCondition",
									"dependsOn": [],
									"userProperties": [],
									"typeProperties": {
										"expression": {
											"value": "@not(equals(variables('token_var'), ''))",
											"type": "Expression"
										},
										"ifFalseActivities": [
											{
												"name": "LoggingStoredProcedure",
												"type": "SqlServerStoredProcedure",
												"dependsOn": [],
												"policy": {
													"timeout": "7.00:00:00",
													"retry": 0,
													"retryIntervalInSeconds": 30,
													"secureOutput": false,
													"secureInput": false
												},
												"userProperties": [],
												"typeProperties": {
													"storedProcedureName": "[[Audit].[uspInsertADFErrorLog]",
													"storedProcedureParameters": {
														"ErrorCode": {
															"value": "404",
															"type": "String"
														},
														"ErrorMsg": {
															"value": {
																"value": "@concat('Data Not Found from Date ',variables('ModifiedDateFrom'),' to Date ',variables('ModifiedDateTo'))",
																"type": "Expression"
															},
															"type": "String"
														},
														"ErrorStatusCode": {
															"value": "404",
															"type": "String"
														},
														"FailureType": {
															"value": "Data Not Available",
															"type": "String"
														},
														"PipelineName": {
															"value": {
																"value": "@{pipeline().Pipeline}",
																"type": "Expression"
															},
															"type": "String"
														},
														"RunID": {
															"value": {
																"value": "@pipeline().RunId",
																"type": "Expression"
															},
															"type": "String"
														},
														"Sink": {
															"value": null,
															"type": "String"
														},
														"Sink_Type": {
															"value": null,
															"type": "String"
														},
														"Source": {
															"value": null,
															"type": "String"
														},
														"Source_Type": {
															"value": null,
															"type": "String"
														},
														"TriggerId": {
															"value": {
																"value": "@{pipeline().TriggerId}",
																"type": "Expression"
															},
															"type": "String"
														},
														"TriggerName": {
															"value": {
																"value": "@{pipeline().TriggerName}",
																"type": "Expression"
															},
															"type": "String"
														},
														"TriggerTime": {
															"value": {
																"value": "@{pipeline().TriggerTime}",
																"type": "Expression"
															},
															"type": "String"
														},
														"TriggerType": {
															"value": {
																"value": "@{pipeline().TriggerType}",
																"type": "Expression"
															},
															"type": "String"
														}
													}
												},
												"linkedServiceName": {
													"referenceName": "semarchy_staging",
													"type": "LinkedServiceReference"
												}
											},
											{
												"name": "SetLoopValueFalse",
												"type": "SetVariable",
												"dependsOn": [
													{
														"activity": "LoggingStoredProcedure",
														"dependencyConditions": [
															"Succeeded"
														]
													}
												],
												"policy": {
													"secureOutput": false,
													"secureInput": false
												},
												"userProperties": [],
												"typeProperties": {
													"variableName": "loop_var",
													"value": false
												}
											}
										],
										"ifTrueActivities": [
											{
												"name": "CopyDACApiResponse",
												"type": "Copy",
												"dependsOn": [],
												"policy": {
													"timeout": "7.00:00:00",
													"retry": 0,
													"retryIntervalInSeconds": 30,
													"secureOutput": false,
													"secureInput": false
												},
												"userProperties": [],
												"typeProperties": {
													"source": {
														"type": "RestSource",
														"httpRequestTimeout": "00:01:40",
														"requestInterval": "00.00:00:00.010",
														"requestMethod": "GET",
														"additionalHeaders": {
															"Ocp-Apim-Subscription-Key": {
																"value": "@pipeline().globalParameters.DAC_SubscriptionKey",
																"type": "Expression"
															}
														},
														"paginationRules": {
															"MaxRequestNumber": "48",
															"supportRFC5988": "true"
														}
													},
													"sink": {
														"type": "JsonSink",
														"storeSettings": {
															"type": "AzureBlobFSWriteSettings"
														},
														"formatSettings": {
															"type": "JsonWriteSettings"
														}
													},
													"enableStaging": false,
													"dataIntegrationUnits": 2
												},
												"inputs": [
													{
														"referenceName": "DataAnyWhereProdRestResource",
														"type": "DatasetReference",
														"parameters": {
															"relative_url_param": {
																"value": "@concat('locations-api-read/locations?AccountID=',pipeline().globalParameters.DAC_Accountid,'&PageSize=25&ModifiedDateFrom=',variables('ModifiedDateFrom'),'&ModifiedDateTo=',variables('ModifiedDateTo'),'&ContinuationToken=')",
																"type": "Expression"
															},
															"continuation_token_param": {
																"value": "@variables('token_var')",
																"type": "Expression"
															}
														}
													}
												],
												"outputs": [
													{
														"referenceName": "DAC_Location_List_Write",
														"type": "DatasetReference",
														"parameters": {
															"FileName": {
																"value": "@concat('Json_Output_', convertFromUtc(utcnow(), 'Eastern Standard Time'))",
																"type": "Expression"
															}
														}
													}
												]
											},
											{
												"name": "GetNextToken",
												"type": "WebActivity",
												"dependsOn": [
													{
														"activity": "CopyDACApiResponse",
														"dependencyConditions": [
															"Succeeded"
														]
													}
												],
												"policy": {
													"timeout": "7.00:00:00",
													"retry": 0,
													"retryIntervalInSeconds": 30,
													"secureOutput": false,
													"secureInput": false
												},
												"userProperties": [],
												"typeProperties": {
													"method": "GET",
													"headers": {
														"Ocp-Apim-Subscription-Key": {
															"value": "@pipeline().globalParameters.DAC_SubscriptionKey",
															"type": "Expression"
														}
													},
													"url": {
														"value": "@concat('https://dataanywhereprod.azure-api.net/locations-api-read/locations?AccountID=',pipeline().globalParameters.DAC_Accountid,'&PageSize=25&ModifiedDateFrom=',variables('ModifiedDateFrom'),'&ModifiedDateTo=',variables('ModifiedDateTo'),'&ContinuationToken=', variables('token_var'))",
														"type": "Expression"
													}
												}
											},
											{
												"name": "SetNextToken",
												"type": "SetVariable",
												"dependsOn": [
													{
														"activity": "GetNextToken",
														"dependencyConditions": [
															"Succeeded"
														]
													}
												],
												"policy": {
													"secureOutput": false,
													"secureInput": false
												},
												"userProperties": [],
												"typeProperties": {
													"variableName": "token_var",
													"value": {
														"value": "@coalesce(activity('GetNextToken')?.output?.ContinuationToken, '') ",
														"type": "Expression"
													}
												}
											},
											{
												"name": "SetLoopValueTrue",
												"type": "SetVariable",
												"dependsOn": [
													{
														"activity": "SetNextToken",
														"dependencyConditions": [
															"Succeeded"
														]
													}
												],
												"policy": {
													"secureOutput": false,
													"secureInput": false
												},
												"userProperties": [],
												"typeProperties": {
													"variableName": "loop_var",
													"value": true
												}
											}
										]
									}
								}
							],
							"timeout": "7.00:00:00"
						}
					},
					{
						"name": "GetContinuationToken",
						"type": "WebActivity",
						"dependsOn": [
							{
								"activity": "DeleteJsonAPIs",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"method": "GET",
							"headers": {
								"Ocp-Apim-Subscription-Key": {
									"value": "@pipeline().globalParameters.DAC_SubscriptionKey",
									"type": "Expression"
								}
							},
							"url": {
								"value": "@concat('https://dataanywhereprod.azure-api.net/locations-api-read/locations?AccountID=',pipeline().globalParameters.DAC_Accountid,'&PageSize=25&&ContinuationToken=')",
								"type": "Expression"
							}
						}
					},
					{
						"name": "SetContinuationToken",
						"type": "SetVariable",
						"dependsOn": [
							{
								"activity": "GetContinuationToken",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "token_var",
							"value": {
								"value": "@activity('GetContinuationToken').output.ContinuationToken",
								"type": "Expression"
							}
						}
					},
					{
						"name": "DeleteJsonAPIs",
						"type": "Delete",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"dataset": {
								"referenceName": "DAC_Location_List_Read",
								"type": "DatasetReference",
								"parameters": {}
							},
							"logStorageSettings": {
								"linkedServiceName": {
									"referenceName": "masterDataHubStg",
									"type": "LinkedServiceReference"
								}
							},
							"enableLogging": true,
							"storeSettings": {
								"type": "AzureBlobFSReadSettings",
								"recursive": true,
								"enablePartitionDiscovery": false
							}
						}
					},
					{
						"name": "SetModifiedDateTo",
						"type": "SetVariable",
						"dependsOn": [
							{
								"activity": "DeleteJsonAPIs",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "ModifiedDateTo",
							"value": {
								"value": "@formatDateTime(convertTimeZone(utcnow(),'UTC','Eastern Standard Time'),'yyyy-MM-dd')",
								"type": "Expression"
							}
						}
					},
					{
						"name": "SetModifiedDateFrom",
						"type": "SetVariable",
						"dependsOn": [
							{
								"activity": "DeleteJsonAPIs",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "ModifiedDateFrom",
							"value": {
								"value": "@formatDateTime(convertTimeZone(adddays(startOfDay(utcnow()), -779),'UTC','Eastern Standard Time'),'yyyy-MM-dd')\n",
								"type": "Expression"
							}
						}
					},
					{
						"name": "GetCountOfData",
						"type": "WebActivity",
						"dependsOn": [
							{
								"activity": "SetContinuationToken",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"method": "GET",
							"headers": {
								"Ocp-Apim-Subscription-Key": {
									"value": "@pipeline().globalParameters.DAC_SubscriptionKey",
									"type": "Expression"
								}
							},
							"url": {
								"value": "@concat('https://dataanywhereprod.azure-api.net/locations-api-read/locations?AccountID=',pipeline().globalParameters.DAC_Accountid,'&PageSize=25&ModifiedDateFrom=',variables('ModifiedDateFrom'),'&ModifiedDateTo=',variables('ModifiedDateTo'),'&ContinuationToken=', variables('token_var'))",
								"type": "Expression"
							}
						}
					},
					{
						"name": "SetDataCount",
						"type": "SetVariable",
						"dependsOn": [
							{
								"activity": "GetCountOfData",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "GetCountData",
							"value": {
								"value": "@string(activity('GetCountOfData').output.Count)",
								"type": "Expression"
							}
						}
					},
					{
						"name": "CheckCountProcessPipeline",
						"type": "IfCondition",
						"dependsOn": [
							{
								"activity": "UntilLastPage",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"userProperties": [],
						"typeProperties": {
							"expression": {
								"value": "@greater(int(variables('GetCountData')),0)",
								"type": "Expression"
							},
							"ifFalseActivities": [
								{
									"name": "NoDataFound",
									"type": "SetVariable",
									"dependsOn": [],
									"policy": {
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"variableName": "GetCountData",
										"value": {
											"value": "@string(activity('GetCountOfData').output.Count)",
											"type": "Expression"
										}
									}
								}
							],
							"ifTrueActivities": [
								{
									"name": "Stage_SiteMaster_DAC_Tables",
									"type": "ExecutePipeline",
									"dependsOn": [],
									"policy": {
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"pipeline": {
											"referenceName": "Stage_SiteMaster_DAC_Tables",
											"type": "PipelineReference"
										},
										"waitOnCompletion": true,
										"parameters": {}
									}
								},
								{
									"name": "Load_SiteMaster_DAC",
									"type": "ExecutePipeline",
									"state": "Inactive",
									"onInactiveMarkAs": "Failed",
									"dependsOn": [
										{
											"activity": "Stage_SiteMaster_DAC_Tables",
											"dependencyConditions": [
												"Succeeded"
											]
										}
									],
									"policy": {
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"pipeline": {
											"referenceName": "Load_SiteMaster_DAC",
											"type": "PipelineReference"
										},
										"waitOnCompletion": true,
										"parameters": {}
									}
								},
								{
									"name": "SPCallStoreLocationDetailsErrorMsg",
									"type": "SqlServerStoredProcedure",
									"dependsOn": [
										{
											"activity": "Stage_SiteMaster_DAC_Tables",
											"dependencyConditions": [
												"Failed"
											]
										}
									],
									"policy": {
										"timeout": "7.00:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"storedProcedureName": "[[Audit].[uspInsertADFErrorLog]",
										"storedProcedureParameters": {
											"ErrorCode": {
												"value": {
													"value": "@{activity('Stage_SiteMaster_DAC_Tables').error.errorCode}",
													"type": "Expression"
												},
												"type": "String"
											},
											"ErrorMsg": {
												"value": {
													"value": "@{activity('Stage_SiteMaster_DAC_Tables').error.message}",
													"type": "Expression"
												},
												"type": "String"
											},
											"ErrorStatusCode": {
												"value": {
													"value": "@activity('Stage_SiteMaster_DAC_Tables').StatusCode",
													"type": "Expression"
												},
												"type": "String"
											},
											"FailureType": {
												"value": {
													"value": "@{activity('Stage_SiteMaster_DAC_Tables').error.failureType}",
													"type": "Expression"
												},
												"type": "String"
											},
											"PipelineName": {
												"value": {
													"value": "@{pipeline().Pipeline}",
													"type": "Expression"
												},
												"type": "String"
											},
											"RunID": {
												"value": {
													"value": "@pipeline().RunId",
													"type": "Expression"
												},
												"type": "String"
											},
											"Sink": {
												"value": null,
												"type": "String"
											},
											"Sink_Type": {
												"value": null,
												"type": "String"
											},
											"Source": {
												"value": null,
												"type": "String"
											},
											"Source_Type": {
												"value": null,
												"type": "String"
											},
											"TriggerId": {
												"value": {
													"value": "@{pipeline().TriggerId}",
													"type": "Expression"
												},
												"type": "String"
											},
											"TriggerName": {
												"value": {
													"value": "@{pipeline().TriggerName}",
													"type": "Expression"
												},
												"type": "String"
											},
											"TriggerTime": {
												"value": {
													"value": "@{pipeline().TriggerTime}",
													"type": "Expression"
												},
												"type": "String"
											},
											"TriggerType": {
												"value": {
													"value": "@{pipeline().TriggerType}",
													"type": "Expression"
												},
												"type": "String"
											}
										}
									},
									"linkedServiceName": {
										"referenceName": "semarchy_staging",
										"type": "LinkedServiceReference"
									}
								},
								{
									"name": "SPCallDacSiteMasterLoadErrorMsg",
									"type": "SqlServerStoredProcedure",
									"state": "Inactive",
									"onInactiveMarkAs": "Succeeded",
									"dependsOn": [
										{
											"activity": "Load_SiteMaster_DAC",
											"dependencyConditions": [
												"Failed"
											]
										}
									],
									"policy": {
										"timeout": "7.00:00:00",
										"retry": 0,
										"retryIntervalInSeconds": 30,
										"secureOutput": false,
										"secureInput": false
									},
									"userProperties": [],
									"typeProperties": {
										"storedProcedureName": "[[Audit].[uspInsertADFErrorLog]",
										"storedProcedureParameters": {
											"ErrorCode": {
												"value": {
													"value": "@{activity('Load_SiteMaster_DAC').error.errorCode}",
													"type": "Expression"
												},
												"type": "String"
											},
											"ErrorMsg": {
												"value": {
													"value": "@{activity('Load_SiteMaster_DAC').error.message}",
													"type": "Expression"
												},
												"type": "String"
											},
											"ErrorStatusCode": {
												"value": {
													"value": "@activity('Load_SiteMaster_DAC').StatusCode",
													"type": "Expression"
												},
												"type": "String"
											},
											"FailureType": {
												"value": {
													"value": "@{activity('Load_SiteMaster_DAC').error.failureType}",
													"type": "Expression"
												},
												"type": "String"
											},
											"PipelineName": {
												"value": {
													"value": "@{pipeline().Pipeline}",
													"type": "Expression"
												},
												"type": "String"
											},
											"RunID": {
												"value": {
													"value": "@pipeline().RunId",
													"type": "Expression"
												},
												"type": "String"
											},
											"Sink": {
												"value": null,
												"type": "String"
											},
											"Sink_Type": {
												"value": null,
												"type": "String"
											},
											"Source": {
												"value": null,
												"type": "String"
											},
											"Source_Type": {
												"value": null,
												"type": "String"
											},
											"TriggerId": {
												"value": {
													"value": "@{pipeline().TriggerId}",
													"type": "Expression"
												},
												"type": "String"
											},
											"TriggerName": {
												"value": {
													"value": "@{pipeline().TriggerName}",
													"type": "Expression"
												},
												"type": "String"
											},
											"TriggerTime": {
												"value": {
													"value": "@{pipeline().TriggerTime}",
													"type": "Expression"
												},
												"type": "String"
											},
											"TriggerType": {
												"value": {
													"value": "@{pipeline().TriggerType}",
													"type": "Expression"
												},
												"type": "String"
											}
										}
									},
									"linkedServiceName": {
										"referenceName": "semarchy_staging",
										"type": "LinkedServiceReference"
									}
								}
							]
						}
					},
					{
						"name": "SetTrueloop",
						"type": "SetVariable",
						"dependsOn": [
							{
								"activity": "SetDataCount",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"variableName": "loop_var",
							"value": true
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"token_var": {
						"type": "String"
					},
					"loop_var": {
						"type": "Boolean",
						"defaultValue": false
					},
					"ModifiedDateTo": {
						"type": "String"
					},
					"ModifiedDateFrom": {
						"type": "String"
					},
					"GetCountData": {
						"type": "String"
					}
				},
				"folder": {
					"name": "SiteMaster"
				},
				"annotations": [],
				"lastPublishTime": "2025-12-08T10:02:22Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Stage_Site_EDW_Staging_Storis_Integration')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "EDW_Storis_Integration",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "EDW_Location_Number",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "SqlDWSource",
								"sqlReaderQuery": {
									"value": "select \nOperation\n,Address1\n,City\n,PostalCodeID\n,SourceID\n,State\n,StoreID\n,Address2\n,AllowTPLOrderScheduling\n,AlphaCode\n,AlternateTaxAddressCleansed\n,AlternateTaxJurisdictionCode\n,AlternateTaxJurisdictionDate\n,AssemblyPriority\n,ATITaxCalcType\n,AutoReplPrimStoreID\n,AutoReplRunFri\n,AutoReplRunMon\n,AutoReplRunSat\n,AutoReplRunSun\n,AutoReplRunThurs\n,AutoReplRunTues\n,AutoReplRunWed\n,AutoReplScndStoreID\n,AutoReplTertStoreID\n,BankID\n,BatchBarcode\n,CAMerchant\n,ClientAccessToken\n,CompanyID\n,CpuPickZoneSeq\n,CpuPrepLocn\n,CpuPriorityPick\n,CrossDockOrderDays\n,CrossDockTransferDays\n,CrossDockXfers\n,Custom1\n,Custom2\n,Custom3\n,DateChanged\n,DateCreated\n,DefaultPickupLocation\n,DefaultShipToLocation\n,DeliveryDeptPhone\n,DftLTrack\n,Distribution_StoreID\n,DistrictID\n,DlvPrepLocn\n,DlvyPickZoneSeq\n,DlvyPriorityPick\n,EquifaxNbr\n,ExcFromAltStockChkInventoryFormationID\n,ExchangePriority\n,FabricCoatPriority\n,FinanceMerchantID\n,FormType\n,FranchiseChangeOverDate\n,FranchiseClosedDate\n,FranchiseID\n,FranchiseNewCustomerDueDay\n,FRMrchNbr\n,FutureSchedulingDays\n,IncludeParcelRoutes\n,IncTransLinkedTransManifestDays\n,InspectionPriority\n,LabelQueueOnProductChange\n,LastBatchID\n,LocnTracked\n,LocnType\n,MaximumSubtotalDiscountPercent\n,MaxReceiveLoads\n,Name\n,Phone\n,PickCustomerPickupsByOrder\n,PickDeliveriesByOrder\n,PickDeliveriesByRoute\n,PickTransfersByOrder\n,PickTransfersByRoute\n,PickupDeptPhone\n,PickXferPrep\n,POPrefixReference\n,PriceCategory\n,PrintedDescription\n,PrintInDefaultLanguageRequired\n,ProhibitCustomerInfo\n,PutawayActive\n,PutawayLocationFillType\n,ReceiveFriday\n,ReceiveMonday\n,ReceiveSaturday\n,ReceiveSunday\n,ReceiveThursday\n,ReceiveTuesday\n,ReceiveWednesday\n,RecStatus\n,RegionID\n,RemitTo_PostalCodeID\n,RemitToAddress1\n,RemitToAddress2\n,RemitToCity\n,RemitToState\n,RequirePriceExceptionComment\n,RFBarcode\n,RFDefaultDropOffCPULocation\n,RFDefaultDropOffDlvyLocation\n,RFDefaultDropOffXferLocation\n,RFPicking\n,RFUseFloats\n,RFUseInterimCPULocations\n,RFUseInterimDlvyLocations\n,RFUseInterimXferLocations\n,RtnLocnDropOff\n,RtnLocnPickup\n,SelectAllBinsOnCycle\n,ServiceDeptPhone\n,ServicePart_StoreID\n,SpecificPU_StoreID\n,SpecificShip_StoreID\n,StoreEmailAddress\n,StoreReplenishmentUseNextDate\n,StoreTimezoneCode\n,StorisCompanyID\n,TknPickZoneSeq\n,TPLRsvdInventoryFormationID\n,TransUnionNbr\n,TRWNbr\n,UseCartonQtyOnDirectPutaway\n,UseRemitAddrForRevolvingStatment\n,WhseMgmtActive\n,XferPickZoneSeq\n,XferPrepLocn\n,XferPriorityPick\nFrom EDME_DataFactory.Store\nwhere recStatus in ('U', 'N')\n",
									"type": "Expression"
								},
								"queryTimeout": "02:00:00",
								"partitionOption": "None"
							},
							"sink": {
								"type": "AzureSqlSink",
								"preCopyScript": {
									"value": "truncate table EDW.Retail_Corporate_Store",
									"type": "Expression"
								},
								"writeBehavior": "insert",
								"sqlWriterUseTableLock": false,
								"disableMetricsCollection": false
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"mappings": [
									{
										"source": {
											"name": "Operation",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "Operation",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "Address1",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "Address1",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "Address2",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "Address2",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "AllowTPLOrderScheduling",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "AllowTPLOrderScheduling",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "AlphaCode",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "AlphaCode",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "AlternateTaxAddressCleansed",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "AlternateTaxAddressCleansed",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "AlternateTaxJurisdictionCode",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "AlternateTaxJurisdictionCode",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "AlternateTaxJurisdictionDate",
											"type": "DateTime",
											"physicalType": "datetime"
										},
										"sink": {
											"name": "AlternateTaxJurisdictionDate",
											"type": "DateTime",
											"physicalType": "datetime"
										}
									},
									{
										"source": {
											"name": "AssemblyPriority",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "AssemblyPriority",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "ATITaxCalcType",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "ATITaxCalcType",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "AutoReplPrimStoreID",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "AutoReplPrimStoreID",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "AutoReplRunFri",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "AutoReplRunFri",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "AutoReplRunMon",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "AutoReplRunMon",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "AutoReplRunSat",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "AutoReplRunSat",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "AutoReplRunSun",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "AutoReplRunSun",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "AutoReplRunThurs",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "AutoReplRunThurs",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "AutoReplRunTues",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "AutoReplRunTues",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "AutoReplRunWed",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "AutoReplRunWed",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "AutoReplScndStoreID",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "AutoReplScndStoreID",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "AutoReplTertStoreID",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "AutoReplTertStoreID",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "BankID",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "BankID",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "BatchBarcode",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "BatchBarcode",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "CAMerchant",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "CAMerchant",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "City",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "City",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "ClientAccessToken",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "ClientAccessToken",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "CompanyID",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "CompanyID",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "CpuPickZoneSeq",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "CpuPickZoneSeq",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "CpuPrepLocn",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "CpuPrepLocn",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "CpuPriorityPick",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "CpuPriorityPick",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "CrossDockOrderDays",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "CrossDockOrderDays",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "CrossDockTransferDays",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "CrossDockTransferDays",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "CrossDockXfers",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "CrossDockXfers",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "Custom1",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "Custom1",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "Custom2",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "Custom2",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "Custom3",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "Custom3",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "DefaultPickupLocation",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "DefaultPickupLocation",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "DefaultShipToLocation",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "DefaultShipToLocation",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "DeliveryDeptPhone",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "DeliveryDeptPhone",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "DftLTrack",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "DftLTrack",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "Distribution_StoreID",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "Distribution_StoreID",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "DistrictID",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "DistrictID",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "DlvPrepLocn",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "DlvPrepLocn",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "DlvyPickZoneSeq",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "DlvyPickZoneSeq",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "DlvyPriorityPick",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "DlvyPriorityPick",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "EquifaxNbr",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "EquifaxNbr",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "ExcFromAltStockChkInventoryFormationID",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "ExcFromAltStockChkInventoryFormationID",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "ExchangePriority",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "ExchangePriority",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "FabricCoatPriority",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "FabricCoatPriority",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "FinanceMerchantID",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "FinanceMerchantID",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "FormType",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "FormType",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "FranchiseChangeOverDate",
											"type": "DateTime",
											"physicalType": "date"
										},
										"sink": {
											"name": "FranchiseChangeOverDate",
											"type": "DateTime",
											"physicalType": "date"
										}
									},
									{
										"source": {
											"name": "FranchiseClosedDate",
											"type": "DateTime",
											"physicalType": "date"
										},
										"sink": {
											"name": "FranchiseClosedDate",
											"type": "DateTime",
											"physicalType": "date"
										}
									},
									{
										"source": {
											"name": "FranchiseID",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "FranchiseID",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "FranchiseNewCustomerDueDay",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "FranchiseNewCustomerDueDay",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "FRMrchNbr",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "FRMrchNbr",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "FutureSchedulingDays",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "FutureSchedulingDays",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "IncludeParcelRoutes",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "IncludeParcelRoutes",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "IncTransLinkedTransManifestDays",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "IncTransLinkedTransManifestDays",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "InspectionPriority",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "InspectionPriority",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "LabelQueueOnProductChange",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "LabelQueueOnProductChange",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "LastBatchID",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "LastBatchID",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "LocnTracked",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "LocnTracked",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "LocnType",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "LocnType",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "MaximumSubtotalDiscountPercent",
											"type": "Decimal",
											"physicalType": "decimal",
											"scale": 2,
											"precision": 18
										},
										"sink": {
											"name": "MaximumSubtotalDiscountPercent",
											"type": "Decimal",
											"physicalType": "decimal",
											"scale": 2,
											"precision": 18
										}
									},
									{
										"source": {
											"name": "MaxReceiveLoads",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "MaxReceiveLoads",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "Name",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "Name",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "Phone",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "Phone",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "PickCustomerPickupsByOrder",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "PickCustomerPickupsByOrder",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "PickDeliveriesByOrder",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "PickDeliveriesByOrder",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "PickDeliveriesByRoute",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "PickDeliveriesByRoute",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "PickTransfersByOrder",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "PickTransfersByOrder",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "PickTransfersByRoute",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "PickTransfersByRoute",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "PickupDeptPhone",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "PickupDeptPhone",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "PickXferPrep",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "PickXferPrep",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "POPrefixReference",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "POPrefixReference",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "PostalCodeID",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "PostalCodeID",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "PriceCategory",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "PriceCategory",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "PrintedDescription",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "PrintedDescription",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "PrintInDefaultLanguageRequired",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "PrintInDefaultLanguageRequired",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "ProhibitCustomerInfo",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "ProhibitCustomerInfo",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "PutawayActive",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "PutawayActive",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "PutawayLocationFillType",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "PutawayLocationFillType",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "ReceiveFriday",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "ReceiveFriday",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "ReceiveMonday",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "ReceiveMonday",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "ReceiveSaturday",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "ReceiveSaturday",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "ReceiveSunday",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "ReceiveSunday",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "ReceiveThursday",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "ReceiveThursday",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "ReceiveTuesday",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "ReceiveTuesday",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "ReceiveWednesday",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "ReceiveWednesday",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "RecStatus",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "RecStatus",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "RegionID",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "RegionID",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "RemitTo_PostalCodeID",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "RemitTo_PostalCodeID",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "RemitToAddress1",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "RemitToAddress1",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "RemitToAddress2",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "RemitToAddress2",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "RemitToCity",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "RemitToCity",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "RemitToState",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "RemitToState",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "RequirePriceExceptionComment",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "RequirePriceExceptionComment",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "RFBarcode",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "RFBarcode",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "RFDefaultDropOffCPULocation",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "RFDefaultDropOffCPULocation",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "RFDefaultDropOffDlvyLocation",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "RFDefaultDropOffDlvyLocation",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "RFDefaultDropOffXferLocation",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "RFDefaultDropOffXferLocation",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "RFPicking",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "RFPicking",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "RFUseFloats",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "RFUseFloats",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "RFUseInterimCPULocations",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "RFUseInterimCPULocations",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "RFUseInterimDlvyLocations",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "RFUseInterimDlvyLocations",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "RFUseInterimXferLocations",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "RFUseInterimXferLocations",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "RtnLocnDropOff",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "RtnLocnDropOff",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "RtnLocnPickup",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "RtnLocnPickup",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "SelectAllBinsOnCycle",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "SelectAllBinsOnCycle",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "ServiceDeptPhone",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "ServiceDeptPhone",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "ServicePart_StoreID",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "ServicePart_StoreID",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "SourceID",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "SourceID",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "SpecificPU_StoreID",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "SpecificPU_StoreID",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "SpecificShip_StoreID",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "SpecificShip_StoreID",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "State",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "State",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "StoreEmailAddress",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "StoreEmailAddress",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "StoreID",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "StoreID",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "StoreReplenishmentUseNextDate",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "StoreReplenishmentUseNextDate",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "StoreTimezoneCode",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "StoreTimezoneCode",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "StorisCompanyID",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "StorisCompanyID",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "TknPickZoneSeq",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "TknPickZoneSeq",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "TPLRsvdInventoryFormationID",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "TPLRsvdInventoryFormationID",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "TransUnionNbr",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "TransUnionNbr",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "TRWNbr",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "TRWNbr",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "UseCartonQtyOnDirectPutaway",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "UseCartonQtyOnDirectPutaway",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "UseRemitAddrForRevolvingStatment",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "UseRemitAddrForRevolvingStatment",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "WhseMgmtActive",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "WhseMgmtActive",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "XferPickZoneSeq",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "XferPickZoneSeq",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "XferPrepLocn",
											"type": "String",
											"physicalType": "varchar"
										},
										"sink": {
											"name": "XferPrepLocn",
											"type": "String",
											"physicalType": "varchar"
										}
									},
									{
										"source": {
											"name": "XferPriorityPick",
											"type": "Boolean",
											"physicalType": "bit"
										},
										"sink": {
											"name": "XferPriorityPick",
											"type": "Boolean",
											"physicalType": "bit"
										}
									},
									{
										"source": {
											"name": "DateCreated",
											"type": "DateTime",
											"physicalType": "datetime"
										},
										"sink": {
											"name": "DateCreated",
											"type": "DateTime",
											"physicalType": "datetime"
										}
									},
									{
										"source": {
											"name": "DateChanged",
											"type": "DateTime",
											"physicalType": "datetime"
										},
										"sink": {
											"name": "DateChanged",
											"type": "DateTime",
											"physicalType": "datetime"
										}
									}
								],
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "EDW_storis_integration",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "Semarchy_Staging_Storis_Integration",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "Execute_INC_Stories_Integration",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "EDW_Storis_Integration",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Load_SiteMaster_Incremental_Storis_Integration",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "EDW_Location_Number",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "0.12:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "SqlDWSource",
								"sqlReaderQuery": {
									"value": "SELECT [Operation]\n      ,[DateChanged]\n      ,[DateCreated]\n      ,[LastBatchID]\n      ,[RecStatus]\n      ,[SourceID]\n      ,[UserSettingID]\n      ,[UserSettingSourceID]\n      ,[UserSettingValueID]\n      ,[Value]\n      ,[ValueSourceID]\n  FROM [EDME_DataFactory].[UserSettingValue]",
									"type": "Expression"
								},
								"queryTimeout": "02:00:00",
								"partitionOption": "None"
							},
							"sink": {
								"type": "AzureSqlSink",
								"preCopyScript": {
									"value": "Truncate table  edw.UserSettingValue",
									"type": "Expression"
								},
								"writeBehavior": "insert",
								"sqlWriterUseTableLock": false,
								"disableMetricsCollection": false
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "EDW_Storis_Integration_LocationNumber",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "Semarchy_Staging_SI_Location_Number",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"b_loadid": {
						"type": "String"
					}
				},
				"folder": {
					"name": "SiteMaster"
				},
				"annotations": [],
				"lastPublishTime": "2025-12-08T10:02:22Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/EDWPIMDailyLoad')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "Load product data into Semarchy side from EDW",
				"annotations": [],
				"runtimeState": "Stopped",
				"pipelines": [
					{
						"pipelineReference": {
							"referenceName": "Orchestrate_Load_Retail_ProductMasterLoad",
							"type": "PipelineReference"
						},
						"parameters": {}
					}
				],
				"type": "ScheduleTrigger",
				"typeProperties": {
					"recurrence": {
						"frequency": "Day",
						"interval": 1,
						"startTime": "2022-08-22T05:00:00",
						"timeZone": "Eastern Standard Time"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/LoadNationalAssortmentToEDW')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "LoadNASisterSKUColorwheelToEDW",
				"annotations": [],
				"runtimeState": "Stopped",
				"pipelines": [
					{
						"pipelineReference": {
							"referenceName": "Orchestrate_National_Assortment_SemarchyToEDW",
							"type": "PipelineReference"
						},
						"parameters": {}
					}
				],
				"type": "ScheduleTrigger",
				"typeProperties": {
					"recurrence": {
						"frequency": "Day",
						"interval": 1,
						"startTime": "2023-07-28T06:00:00",
						"timeZone": "Eastern Standard Time"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/LoadRetailCustomerCommunicationPreferenceLoadIncremental')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "Load Incremental RetailCustomer Preference data into Semarchy SD table from staging table",
				"annotations": [],
				"runtimeState": "Stopped",
				"pipelines": [
					{
						"pipelineReference": {
							"referenceName": "Orchestrate_RetailCustomer_CommunicationPreferenceLoad_Incremental",
							"type": "PipelineReference"
						},
						"parameters": {}
					}
				],
				"type": "ScheduleTrigger",
				"typeProperties": {
					"recurrence": {
						"frequency": "Hour",
						"interval": 3,
						"startTime": "2023-04-04T00:00:00Z",
						"timeZone": "UTC"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PIM_Product_direct_load_RPM')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"runtimeState": "Stopped",
				"pipelines": [
					{
						"pipelineReference": {
							"referenceName": "Orchestrate_ProductMasterLoad_PIM_RPM",
							"type": "PipelineReference"
						},
						"parameters": {}
					}
				],
				"type": "ScheduleTrigger",
				"typeProperties": {
					"recurrence": {
						"frequency": "Hour",
						"interval": 4,
						"startTime": "2025-01-09T04:23:00",
						"timeZone": "India Standard Time"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Site_Incremental_DAC')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"runtimeState": "Stopped",
				"pipelines": [
					{
						"pipelineReference": {
							"referenceName": "Load_SiteMaster_INC_DAC",
							"type": "PipelineReference"
						},
						"parameters": {}
					}
				],
				"type": "ScheduleTrigger",
				"typeProperties": {
					"recurrence": {
						"frequency": "Day",
						"interval": 1,
						"startTime": "2025-04-03T07:10:00",
						"timeZone": "India Standard Time",
						"schedule": {
							"minutes": [
								0
							],
							"hours": [
								14
							]
						}
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/StageRetailCustomerRetailCustomerLoadIncremental')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "Load Incremental Retail Customer CSV files from storage to staging table",
				"annotations": [],
				"runtimeState": "Stopped",
				"pipelines": [
					{
						"pipelineReference": {
							"referenceName": "Orchestrate_Stage_Retail_Customer_RetailCustomerLoad_Incremental",
							"type": "PipelineReference"
						},
						"parameters": {}
					}
				],
				"type": "ScheduleTrigger",
				"typeProperties": {
					"recurrence": {
						"frequency": "Hour",
						"interval": 1,
						"startTime": "2023-01-02T01:50:00Z",
						"timeZone": "UTC"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Wholesale_Container_WH_Port')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"runtimeState": "Stopped",
				"pipelines": [
					{
						"pipelineReference": {
							"referenceName": "Orchestrate_Containerrate_WHSMST_PortMaster",
							"type": "PipelineReference"
						},
						"parameters": {}
					}
				],
				"type": "ScheduleTrigger",
				"typeProperties": {
					"recurrence": {
						"frequency": "Month",
						"interval": 1,
						"startTime": "2024-08-28T09:56:00",
						"timeZone": "India Standard Time",
						"schedule": {
							"minutes": [
								0
							],
							"hours": [
								19
							],
							"monthDays": [
								28
							]
						}
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/stage_site_edw_staging_zipallocation')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"runtimeState": "Stopped",
				"pipelines": [
					{
						"pipelineReference": {
							"referenceName": "Stage_Site_EDW_Staging_ZipAllocation",
							"type": "PipelineReference"
						},
						"parameters": {}
					}
				],
				"type": "ScheduleTrigger",
				"typeProperties": {
					"recurrence": {
						"frequency": "Day",
						"interval": 1,
						"startTime": "2025-01-06T06:26:00",
						"timeZone": "India Standard Time",
						"schedule": {
							"minutes": [
								30
							],
							"hours": [
								14
							]
						}
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/00_Load_SiteMaster_DAC')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Stage_SiteMaster_DAC",
						"type": "ExecutePipeline",
						"dependsOn": [],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Stage_SiteMaster_DAC",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "SPCallStoreDetailsErrorMsg",
						"type": "SqlServerStoredProcedure",
						"dependsOn": [
							{
								"activity": "Stage_SiteMaster_DAC",
								"dependencyConditions": [
									"Failed"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"storedProcedureName": "[[Audit].[uspInsertADFErrorLog]",
							"storedProcedureParameters": {
								"ErrorCode": {
									"value": {
										"value": "@{activity('Stage_SiteMaster_DAC').error.errorCode}",
										"type": "Expression"
									},
									"type": "String"
								},
								"ErrorMsg": {
									"value": {
										"value": "@{activity('Stage_SiteMaster_DAC').error.message}",
										"type": "Expression"
									},
									"type": "String"
								},
								"ErrorStatusCode": {
									"value": {
										"value": "@activity('Stage_SiteMaster_DAC').StatusCode",
										"type": "Expression"
									},
									"type": "String"
								},
								"FailureType": {
									"value": {
										"value": "@{activity('Stage_SiteMaster_DAC').error.failureType}",
										"type": "Expression"
									},
									"type": "String"
								},
								"PipelineName": {
									"value": {
										"value": "@{pipeline().Pipeline}",
										"type": "Expression"
									},
									"type": "String"
								},
								"RunID": {
									"value": {
										"value": "@pipeline().RunId",
										"type": "Expression"
									},
									"type": "String"
								},
								"Sink": {
									"value": null,
									"type": "String"
								},
								"Sink_Type": {
									"value": null,
									"type": "String"
								},
								"Source": {
									"value": null,
									"type": "String"
								},
								"Source_Type": {
									"value": null,
									"type": "String"
								},
								"TriggerId": {
									"value": {
										"value": "@{pipeline().TriggerId}",
										"type": "Expression"
									},
									"type": "String"
								},
								"TriggerName": {
									"value": {
										"value": "@{pipeline().TriggerName}",
										"type": "Expression"
									},
									"type": "String"
								},
								"TriggerTime": {
									"value": {
										"value": "@{pipeline().TriggerTime}",
										"type": "Expression"
									},
									"type": "String"
								},
								"TriggerType": {
									"value": {
										"value": "@{pipeline().TriggerType}",
										"type": "Expression"
									},
									"type": "String"
								}
							}
						},
						"linkedServiceName": {
							"referenceName": "semarchy_staging",
							"type": "LinkedServiceReference"
						}
					},
					{
						"name": "Teams_Failed_Notification",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Stage_SiteMaster_DAC",
								"dependencyConditions": [
									"Failed"
								]
							}
						],
						"policy": {
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "Notify_Teams_Channale_Pipeline",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {
								"subscription": {
									"value": "@pipeline().globalParameters.ADF_SubscriptionID",
									"type": "Expression"
								},
								"resourceGroup": "afi-edme-rg",
								"runId": {
									"value": "@activity('Stage_SiteMaster_DAC').output['pipelineRunId']",
									"type": "Expression"
								},
								"name": {
									"value": "@activity('Stage_SiteMaster_DAC').output['pipelineName']",
									"type": "Expression"
								},
								"triggerTime": {
									"value": "@activity('Stage_SiteMaster_DAC').ExecutionStartTime",
									"type": "Expression"
								},
								"status": {
									"value": "@activity('Stage_SiteMaster_DAC').Status",
									"type": "Expression"
								},
								"message": {
									"value": "@replace(activity('Stage_SiteMaster_DAC').error.message,'\"','')",
									"type": "Expression"
								},
								"executionEndTime": {
									"value": "@activity('Stage_SiteMaster_DAC').ExecutionEndTime",
									"type": "Expression"
								},
								"runDuration": {
									"value": "@activity('Stage_SiteMaster_DAC').Duration",
									"type": "Expression"
								},
								"teamWebhookUrl": {
									"value": "@pipeline().globalParameters.GP_WebhookUrl",
									"type": "Expression"
								}
							}
						}
					}
				],
				"policy": {
					"elapsedTimeMetric": {}
				},
				"variables": {
					"StoreDetailsErrorMsg": {
						"type": "String"
					},
					"StoreLocationDetailsErrorMsg": {
						"type": "String"
					},
					"DacSiteMasterLoadErrorMsg": {
						"type": "String"
					},
					"JsonCount": {
						"type": "String"
					}
				},
				"folder": {
					"name": "SiteMaster"
				},
				"annotations": [],
				"lastPublishTime": "2025-12-08T10:02:24Z"
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/pipelines/Stage_SiteMaster_DAC')]"
			]
		}
	]
}