{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory name",
			"defaultValue": "afi-edme-dev-df"
		},
		"LS_Smartsheets_apiToken": {
			"type": "secureString",
			"metadata": "Secure string for 'apiToken' of 'LS_Smartsheets'"
		},
		"Ls_CSV_FlatFile_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'Ls_CSV_FlatFile'"
		},
		"Prod_afimasterdatahubstg_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'Prod_afimasterdatahubstg'"
		},
		"Retail_CustomerMaster_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'Retail_CustomerMaster'",
			"defaultValue": "Integrated Security=False;Encrypt=True;Connection Timeout=30;Data Source=afi-edme-semarchy-dev-sql.database.windows.net;Initial Catalog=Retail_CustomerMaster"
		},
		"Retail_ProductMaster_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'Retail_ProductMaster'",
			"defaultValue": "Integrated Security=False;Encrypt=True;Connection Timeout=30;Data Source=afi-edme-semarchy-stage-sql.database.windows.net;Initial Catalog=Retail_ProductMaster"
		},
		"Retail_SiteMaster_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'Retail_SiteMaster'",
			"defaultValue": "Integrated Security=False;Encrypt=True;Connection Timeout=30;Data Source=afi-edme-semarchy-dev-sql.database.windows.net;Initial Catalog=Retail_SiteMaster"
		},
		"Sink_ReferenceMaster_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'Sink_ReferenceMaster'",
			"defaultValue": "Integrated Security=False;Encrypt=True;Connection Timeout=30;Data Source=afi-edme-semarchy-stage-sql.database.windows.net;Initial Catalog=@{linkedService().Database_Name}"
		},
		"Smartsheet1_apiToken": {
			"type": "secureString",
			"metadata": "Secure string for 'apiToken' of 'Smartsheet1'"
		},
		"SmartsheetLinkedinService_apiToken": {
			"type": "secureString",
			"metadata": "Secure string for 'apiToken' of 'SmartsheetLinkedinService'"
		},
		"Smartsheet_Storemasterlist_apiToken": {
			"type": "secureString",
			"metadata": "Secure string for 'apiToken' of 'Smartsheet_Storemasterlist'"
		},
		"TestFileShare123_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'TestFileShare123'"
		},
		"Wholesale_sitemaster_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'Wholesale_sitemaster'",
			"defaultValue": "Integrated Security=False;Encrypt=True;Connection Timeout=30;Data Source=afi-edme-semarchy-stage-sql.database.windows.net;Initial Catalog=Wholesale_sitemaster"
		},
		"agr_cdp_func_functionKey": {
			"type": "secureString",
			"metadata": "Secure string for 'functionKey' of 'agr_cdp_func'"
		},
		"agr_multi_channel_mktg_hub_customer_dev_func_functionKey": {
			"type": "secureString",
			"metadata": "Secure string for 'functionKey' of 'agr_multi_channel_mktg_hub_customer_dev_func'"
		},
		"masterDataHubStg_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'masterDataHubStg'"
		},
		"Postal_datadownload_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://releases.melissadata.net/Download/Data/2024.07/z5max.txt"
		},
		"Postalcode_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://releases.melissadata.net"
		},
		"Prod_afimasterdatahubstg_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://afimasterdatahubdevstg.dfs.core.windows.net/"
		},
		"RawZone_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://ashleydevlake.dfs.core.windows.net/"
		},
		"RestService1_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://releases.melissadata.net/releases/data/z5max.txt"
		},
		"SmartsheetRDCMasterlist_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://app.smartsheet.com/sheets/C76f2PC52VHXRfHfMPPw3m2gR85pVr5qq23Q78m1"
		},
		"agr_cdp_func_properties_typeProperties_functionAppUrl": {
			"type": "string",
			"defaultValue": "https://agr-cdp-func.azurewebsites.net"
		},
		"agr_multi_channel_mktg_hub_customer_dev_func_properties_typeProperties_functionAppUrl": {
			"type": "string",
			"defaultValue": "https://agr-multi-channel-mktg-hub-customer-dev-func.azurewebsites.net"
		},
		"masterDataHubStg_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://afimasterdatahubdevstg.dfs.core.windows.net"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/LS_Smartsheets')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "Smartsheet",
				"typeProperties": {
					"apiToken": {
						"type": "SecureString",
						"value": "[parameters('LS_Smartsheets_apiToken')]"
					},
					"encryptedCredential": "ew0KICAiVmVyc2lvbiI6ICIyMDE3LTExLTMwIiwNCiAgIlByb3RlY3Rpb25Nb2RlIjogIktleSIsDQogICJTZWNyZXRDb250ZW50VHlwZSI6ICJQbGFpbnRleHQiLA0KICAiQ3JlZGVudGlhbElkIjogIkRBVEFGQUNUT1JZQEFFOEIwMTA0LTMwN0UtNDA2OC1CNzRCLTA3NzNCNkI3NkJCNl9mZmU3NGIyYS04ZjQxLTRiZDQtYTY3NS1jN2Y4MDBkZDk5YjciDQp9"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Ls_CSV_FlatFile')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobStorage",
				"typeProperties": {
					"connectionString": "[parameters('Ls_CSV_FlatFile_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Postal_datadownload')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "RestService",
				"typeProperties": {
					"url": "[parameters('Postal_datadownload_properties_typeProperties_url')]",
					"enableServerCertificateValidation": true,
					"authenticationType": "Anonymous"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Postalcode')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "HttpServer",
				"typeProperties": {
					"url": "[parameters('Postalcode_properties_typeProperties_url')]",
					"enableServerCertificateValidation": true,
					"authenticationType": "Anonymous"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Prod_afimasterdatahubstg')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('Prod_afimasterdatahubstg_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('Prod_afimasterdatahubstg_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/RawZone')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('RawZone_properties_typeProperties_url')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/RestService1')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "RestService",
				"typeProperties": {
					"url": "[parameters('RestService1_properties_typeProperties_url')]",
					"enableServerCertificateValidation": true,
					"authenticationType": "Anonymous"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Retail_CustomerMaster')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureSqlDatabase",
				"typeProperties": {
					"connectionString": "[parameters('Retail_CustomerMaster_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Retail_ProductMaster')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureSqlDatabase",
				"typeProperties": {
					"connectionString": "[parameters('Retail_ProductMaster_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Retail_SiteMaster')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureSqlDatabase",
				"typeProperties": {
					"connectionString": "[parameters('Retail_SiteMaster_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Sink_ReferenceMaster')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"parameters": {
					"Database_Name": {
						"type": "string"
					}
				},
				"annotations": [],
				"type": "AzureSqlDatabase",
				"typeProperties": {
					"connectionString": "[parameters('Sink_ReferenceMaster_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Smartsheet1')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "Smartsheet",
				"typeProperties": {
					"apiToken": {
						"type": "SecureString",
						"value": "[parameters('Smartsheet1_apiToken')]"
					},
					"encryptedCredential": "ew0KICAiVmVyc2lvbiI6ICIyMDE3LTExLTMwIiwNCiAgIlByb3RlY3Rpb25Nb2RlIjogIktleSIsDQogICJTZWNyZXRDb250ZW50VHlwZSI6ICJQbGFpbnRleHQiLA0KICAiQ3JlZGVudGlhbElkIjogIkRBVEFGQUNUT1JZQEFFOEIwMTA0LTMwN0UtNDA2OC1CNzRCLTA3NzNCNkI3NkJCNl8yZmY0ZDljNS1mNzA1LTQ5NjctYTI2Yi02NDBkNGNhOWI3NzUiDQp9"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SmartsheetLinkedinService')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "Smartsheet",
				"typeProperties": {
					"apiToken": {
						"type": "SecureString",
						"value": "[parameters('SmartsheetLinkedinService_apiToken')]"
					},
					"encryptedCredential": "ew0KICAiVmVyc2lvbiI6ICIyMDE3LTExLTMwIiwNCiAgIlByb3RlY3Rpb25Nb2RlIjogIktleSIsDQogICJTZWNyZXRDb250ZW50VHlwZSI6ICJQbGFpbnRleHQiLA0KICAiQ3JlZGVudGlhbElkIjogIkRBVEFGQUNUT1JZQEFFOEIwMTA0LTMwN0UtNDA2OC1CNzRCLTA3NzNCNkI3NkJCNl85NWMwM2U3OS0wMDFhLTQxOGMtODU1Ny0wZjRmZjg4NWViMzEiDQp9"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SmartsheetRDCMasterlist')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "RestService",
				"typeProperties": {
					"url": "[parameters('SmartsheetRDCMasterlist_properties_typeProperties_url')]",
					"enableServerCertificateValidation": true,
					"authenticationType": "Anonymous"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Smartsheet_Storemasterlist')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "Smartsheet",
				"typeProperties": {
					"apiToken": {
						"type": "SecureString",
						"value": "[parameters('Smartsheet_Storemasterlist_apiToken')]"
					},
					"encryptedCredential": "ew0KICAiVmVyc2lvbiI6ICIyMDE3LTExLTMwIiwNCiAgIlByb3RlY3Rpb25Nb2RlIjogIktleSIsDQogICJTZWNyZXRDb250ZW50VHlwZSI6ICJQbGFpbnRleHQiLA0KICAiQ3JlZGVudGlhbElkIjogIkRBVEFGQUNUT1JZQEFFOEIwMTA0LTMwN0UtNDA2OC1CNzRCLTA3NzNCNkI3NkJCNl8zMDIzMzM2OC01ODM0LTRjODMtODNkMi1hNmVmYmNiYzA3YzUiDQp9"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/TestFileShare123')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureFileStorage",
				"typeProperties": {
					"connectionString": "[parameters('TestFileShare123_connectionString')]",
					"fileShare": "mcmh-file-share"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Wholesale_sitemaster')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureSqlDatabase",
				"typeProperties": {
					"connectionString": "[parameters('Wholesale_sitemaster_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/agr_cdp_func')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureFunction",
				"typeProperties": {
					"functionAppUrl": "[parameters('agr_cdp_func_properties_typeProperties_functionAppUrl')]",
					"authentication": "Anonymous",
					"functionKey": {
						"type": "SecureString",
						"value": "[parameters('agr_cdp_func_functionKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/agr_multi_channel_mktg_hub_customer_dev_func')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureFunction",
				"typeProperties": {
					"functionAppUrl": "[parameters('agr_multi_channel_mktg_hub_customer_dev_func_properties_typeProperties_functionAppUrl')]",
					"authentication": "Anonymous",
					"functionKey": {
						"type": "SecureString",
						"value": "[parameters('agr_multi_channel_mktg_hub_customer_dev_func_functionKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/masterDataHubStg')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('masterDataHubStg_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('masterDataHubStg_accountKey')]"
					}
				}
			},
			"dependsOn": []
		}
	]
}